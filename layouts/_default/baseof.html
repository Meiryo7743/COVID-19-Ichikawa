<!DOCTYPE html>
<html lang='{{ .Site.Language.Lang }}'>
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
    <meta charset="utf-8">
    <meta name="description" content='{{ .Site.Params.Description }}'>
    <meta name="format-detection" content="telephone=no,address=no,email=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {{/* OGP */}}
    <meta property="og:description" content='{{ .Site.Params.Description }}'>
    <meta property="og:image" content='{{ .Site.Params.OgpImage | safeURL | absURL }}'>
    <meta property="og:image" content="">
    <meta property="og:site_name" content='{{ .Site.Title }}'>
    <meta property="og:title" content='{{ .Title }} - {{ .Site.Title }}'>
    <meta property="og:type" content="article">
    <meta property="og:url" content='{{ .Permalink }}'>

    {{/* Theme color for Android Chrome */}}
    <meta name="theme-color" content="#242124">

    {{/* Favicons */}}
    <link rel="apple-touch-icon" sizes="180x180" href='{{ "/apple-touch-icon.png" | absURL }}'>
    <link rel="icon" type="image/png" sizes="512x512" href='{{ "/android-chrome-512x512.png" | absURL }}'>

    {{/* reset.css */}}
    {{ $style_reset := resources.Get "css/meiryo_reset.css" | resources.Minify }}
    <link rel="preload" as="style" href='{{ $style_reset.Permalink }}'>
    <link rel="stylesheet" href='{{ $style_reset.Permalink }}'>

    {{/* style.scss */}}
    {{ $style_screen := resources.Get "scss/style.scss" | toCSS | minify }}
    <link rel="preload" as="style" href='{{ $style_screen.Permalink }}'>
    <link rel="stylesheet" href='{{ $style_screen.Permalink }}'>

    {{/* Page title */}}
    <title>{{ .Title }} - {{ .Site.Title }}</title>

    {{/* Load Chart.js */}}
    {{ with .Params.Cards.Display.Chart }}
      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
    {{ end }}
  </head>
  <body class="layout body">
    <header class="layout__header header">
      {{/* Notice: noscript */}}
      <noscript>
        <aside class="notice notice--important">
          <p><strong>{{ i18n "notice_noscript" }}</strong></p>
        </aside>
      </noscript>

      {{/* Notice: translation */}}
      {{ if ne .Site.Language.Lang "ja" }}
        <aside class="notice notice--translation">
          <p>{{ i18n "notice_translation" }}</p>
        </aside>
      {{ end }}

      {{/* Header nav */}}
      <nav class="header__nav">
        <ul class="nav nav--header">
          {{/* Logo */}}
          <li class="nav__item">
            <a href='{{ .Site.Home.Permalink | safeURL | absLangURL }}' class="nav__link nav__link--logo">
              <img src='{{ .Site.Params.LogoImage | safeURL | absURL }}' alt='{{ .Site.Title }}'>
            </a>
          </li>

          {{/* Language */}}
          <li class="nav__item nav__item--lang">
              {{ if eq .Site.Language.Lang "ja" }}
                  <a href='{{ replace .Permalink .Site.Language.Lang "en" | safeURL }}' class="nav__link">
                      English
                  </a>
              {{ else if eq .Site.Language.Lang "en" }}
                  <a href='{{ replace .Permalink .Site.Language.Lang "ja" | safeURL }}' class="nav__link">
                      日本語
                  </a>
              {{ end }}
          </li>
        </ul>

        {{/* コンテンツメニュー */}}
        <ul class="nav">
          {{/* ホームページ */}}
          <li class="nav__item">
            <a href='{{ .Site.Home.Permalink | safeURL | absLangURL }}' class="nav__link">
              {{ .Site.Home.Title }}
            </a>
          </li>

          {{ range .Site.Menus.header_nav }}
            <li class="nav__item">
              <a href='{{ .URL | safeURL | absLangURL }}' class="nav__link">
                {{ .Name }}
              </a>
            </li>
          {{ end }}
        </ul>
      </nav>
    </header>

    <main class="layout__main main">
      {{ block "main" . }}{{ end }}
    </main>

    <footer class="layout__footer footer">
      <p>
        <a href="https://github.com/Meiryo7743/COVID-19-Ichikawa">
          {{ i18n "footer_repo" }}
        </a>
      </p>
      <p class="footer__copyright">
        <small>&copy; {{ now.Year }} {{ .Site.Params.Author }}</small>
      </p>
    </footer>

    {{/* sort-table.js (MIT License) */}}
    {{ with .Params.Cards.Display.Table }}
      <script>
        function sortTable(Table,col,dir){var sortClass,i;sortTable.sortCol=-1;sortClass=Table.className.match(/js-sort-\d+/);if(null!=sortClass){sortTable.sortCol=sortClass[0].replace(/js-sort-/,'');Table.className=Table.className.replace(new RegExp(' ?'+sortClass[0]+'\\b'),'')}if('undefined'===typeof col){col=sortTable.sortCol}if('undefined'!==typeof dir){sortTable.sortDir=dir==-1||dir=='desc'?-1:1}else{sortClass=Table.className.match(/js-sort-(a|de)sc/);if(null!=sortClass&&sortTable.sortCol==col){sortTable.sortDir='js-sort-asc'==sortClass[0]?-1:1}else{sortTable.sortDir=1}}Table.className=Table.className.replace(/ ?js-sort-(a|de)sc/g,'');Table.className+=' js-sort-'+col;sortTable.sortCol=col;Table.className+=' js-sort-'+(sortTable.sortDir==-1?'desc':'asc');if(col<Table.tHead.rows[Table.tHead.rows.length-1].cells.length){sortClass=Table.tHead.rows[Table.tHead.rows.length-1].cells[col].className.match(/js-sort-[-\w]+/)}for(i=0;i<Table.tHead.rows[Table.tHead.rows.length-1].cells.length;i+=1){if(col==Table.tHead.rows[Table.tHead.rows.length-1].cells[i].getAttribute('data-js-sort-colNum')){sortClass=Table.tHead.rows[Table.tHead.rows.length-1].cells[i].className.match(/js-sort-[-\w]+/)}}if(null!=sortClass){sortTable.sortFunc=sortClass[0].replace(/js-sort-/,'')}else{sortTable.sortFunc='string'}Table.querySelectorAll('.js-sort-active').forEach(function(Node){Node.className=Node.className.replace(/ ?js-sort-active\b/,'')});Table.querySelectorAll('[data-js-sort-colNum="'+col+'"]:not(:empty)').forEach(function(Node){Node.className+=' js-sort-active'});var rows=[],TBody=Table.tBodies[0];for(i=0;i<TBody.rows.length;i+=1){rows[i]=TBody.rows[i]}if('none'!=sortTable.sortFunc){rows.sort(sortTable.compareRow)}while(TBody.firstChild){TBody.removeChild(TBody.firstChild)}for(i=0;i<rows.length;i+=1){TBody.appendChild(rows[i])}}sortTable.compareRow=function(RowA,RowB){var valA,valB;if('function'!=typeof sortTable[sortTable.sortFunc]){sortTable.sortFunc='string'}valA=sortTable[sortTable.sortFunc](RowA.cells[sortTable.sortCol]);valB=sortTable[sortTable.sortFunc](RowB.cells[sortTable.sortCol]);return valA==valB?0:sortTable.sortDir*(valA>valB?1:-1)};sortTable.stripTags=function(html){return html.replace(/<\/?[a-z][a-z0-9]*\b[^>]*>/gi,'')};sortTable.date=function(Cell){if(typeof okDate!=='undefined'){var kDate=okDate(sortTable.stripTags(Cell.innerHTML));return kDate?kDate.getTime():0}else{return(new Date(sortTable.stripTags(Cell.innerHTML))).getTime()||0}};sortTable.number=function(Cell){return Number(sortTable.stripTags(Cell.innerHTML).replace(/[^-\d.]/g,''))};sortTable.string=function(Cell){return sortTable.stripTags(Cell.innerHTML).toLowerCase()};sortTable.raw=function(Cell){return Cell.innerHTML};sortTable.last=function(Cell){return sortTable.stripTags(Cell.innerHTML).split(' ').pop().toLowerCase()};sortTable.input=function(Cell){for(var i=0;i<Cell.children.length;i+=1){if('object'==typeof Cell.children[i]&&'undefined'!=typeof Cell.children[i].value){return Cell.children[i].value.toLowerCase()}}return sortTable.string(Cell)};sortTable.none=function(Cell){return null};sortTable.getClickHandler=function(Table,col){return function(){sortTable(Table,col)}};sortTable.init=function(){var THead,Tables,Handler;if(document.querySelectorAll){Tables=document.querySelectorAll('table.js-sort-table')}else{Tables=document.getElementsByTagName('table')}for(var i=0;i<Tables.length;i+=1){if(!document.querySelectorAll&&null===Tables[i].className.match(/\bjs-sort-table\b/)){continue}if(Tables[i].attributes['data-js-sort-table']){continue}if(!Tables[i].tHead){THead=document.createElement('thead');THead.appendChild(Tables[i].rows[0]);Tables[i].insertBefore(THead,Tables[i].children[0])}else{THead=Tables[i].tHead}for(var rowNum=0;rowNum<THead.rows.length;rowNum+=1){for(var cellNum=0,colNum=0;cellNum<THead.rows[rowNum].cells.length;cellNum+=1){if(THead.rows[rowNum].cells[cellNum].className.match(/\bjs-sort-none\b/)){continue}THead.rows[rowNum].cells[cellNum].setAttribute('data-js-sort-colNum',colNum);Handler=sortTable.getClickHandler(Tables[i],colNum);window.addEventListener?THead.rows[rowNum].cells[cellNum].addEventListener('click',Handler):window.attachEvent&&THead.rows[rowNum].cells[cellNum].attachEvent('onclick',Handler);colNum+=THead.rows[rowNum].cells[cellNum].colSpan}}Tables[i].setAttribute('data-js-sort-table','true')}var element=document.createElement('style');document.head.insertBefore(element,document.head.childNodes[0]);var sheet=element.sheet;sheet.insertRule('table.js-sort-table.js-sort-asc thead tr > .js-sort-active:not(.js-sort-none)::after {content: "\\25b2";}',0);sheet.insertRule('table.js-sort-table.js-sort-desc thead tr > .js-sort-active:not(.js-sort-none)::after {content: "\\25bc";}',0)};window.addEventListener?window.addEventListener('load',sortTable.init,false):window.attachEvent&&window.attachEvent('onload',sortTable.init);if(typeof NodeList.prototype.forEach!=="function"){NodeList.prototype.forEach=Array.prototype.forEach}
      </script>
    {{ end }}
  </body>
</html>
