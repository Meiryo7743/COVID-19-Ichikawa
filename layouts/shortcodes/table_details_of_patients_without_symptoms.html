{{/* データテーブル */}}
{{ $data_src := .Site.Data.details_of_patients_without_symptoms }}
{{ $data_len := .Get "len" | default (len $data_src) }}

<div class="data-table">
  <table
    class="data-table__table"
    id="table-details-of-patients-without-symptoms"
  >
    <thead>
      {{ range first 1 $data_src }}
        <tr>
          <th class="sort" data-sort="市内">
            #
          </th>

          <th class="sort" data-sort="検査確定日">
            {{ i18n "patients_検査確定日" }}
          </th>

          <th>
            {{ i18n "patients_年代" }}
          </th>

          <th>
            {{ i18n "patients_性別" }}
          </th>

          <th>
            {{ i18n "patients_職業" }}
          </th>

          <th>
            {{ i18n "patients_推定感染経路" }}
          </th>

          <th>
            {{ i18n "patients_行動歴" }}
          </th>
        </tr>
      {{ end }}
    </thead>

    <tbody id="tbody-details-of-patients-without-symptoms">
      {{/* 表データの出力 */}}
      {{ range first $data_len $data_src }}
        <tr>
          <td class="市内">
            {{ with .市内 }}
              {{ . }}
            {{ end }}
          </td>

          <td class="検査確定日">
            {{ with .検査確定日 }}
              <time datetime='{{ . }}'>
                {{ replaceRE "^\\d+-(\\d+-\\d+)$" "$1" . }}
              </time>
            {{ end }}
          </td>

          <td>
            {{ with .年代 }}
              {{ $i18n := i18n (print "patients_年代_" . ) }}
              {{ if eq $i18n false }}
                {{ . }}
              {{ else }}
                {{ $i18n }}
              {{ end }}
            {{ end }}
          </td>

          <td>
            {{ with .性別 }}
              {{ $i18n := i18n (print "patients_性別_" . ) }}
              {{ if eq $i18n false }}
                {{ . }}
              {{ else }}
                {{ $i18n }}
              {{ end }}
            {{ end }}
          </td>

          <td>
            {{ with .職業 }}
              {{ $i18n := i18n (print "patients_職業_" . ) }}
              {{ if eq $i18n false }}
                {{ . }}
              {{ else }}
                {{ $i18n }}
              {{ end }}
            {{ end }}
          </td>

          <td>
            {{ with .推定感染経路 }}
              <ul>
                {{ range . }}
                  <li>{{ . }}</li>
                {{ end }}
              </ul>
            {{ end }}
          </td>

          <td>
            {{ with .行動歴 }}
              <ul>
                {{ range . }}
                  <li>{{ . }}</li>
                {{ end }}
              </ul>
            {{ end }}
          </td>
        </tr>
      {{ end }}
    </tbody>
  </table>
</div>

{{/* List.js sort table */}}
<script>
  const tbody = document.getElementById("tbody-details-of-patients-without-symptoms");
  tbody.className = "list";
  const options = {
    valueNames: ["市内", "検査確定日"],
  };
  const userList = new List("table-details-of-patients-without-symptoms", options);
</script>