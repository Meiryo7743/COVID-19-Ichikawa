{{/* データテーブル */}}
{{/* See: data/patients.yml */}}
<div class="data-table">
  <div class="data-table__container">
    <table class="data-table__table" id="table-detail-of-patients">
      <thead>
        <tr>
          {{/* th 市内 */}}
          <th
            class="data-table__cell data-table__cell--header sort"
            data-sort="市内"
          >
            No.
          </th>

          {{/* th 検査確定日 */}}
          <th
            class="data-table__cell data-table__cell--header sort"
            data-sort="検査確定日"
          >
            {{ i18n "patients_検査確定日" }}
          </th>

          {{/* th 発症日 */}}
          <th
            class="data-table__cell data-table__cell--header sort"
            data-sort="発症日"
          >
            {{ i18n "patients_発症日" }}
          </th>

          {{/* th 年代 */}}
          <th
            class="data-table__cell data-table__cell--header sort"
            data-sort="年代"
          >
            {{ i18n "patients_年代" }}
          </th>

          {{/* th 性別 */}}
          <th class="data-table__cell data-table__cell--header">
            {{ i18n "patients_性別" }}
          </th>

          {{/* th 職業 */}}
          <th class="data-table__cell data-table__cell--header">
            {{ i18n "patients_職業" }}
          </th>

          {{/* th 推定感染経路 */}}
          <th class="data-table__cell data-table__cell--header">
            {{ i18n "patients_推定感染経路" }}
          </th>

          {{/* th 行動歴 */}}
          <th class="data-table__cell data-table__cell--header">
            {{ i18n "patients_行動歴" }}
          </th>
        </tr>
      </thead>

      <tbody class="list">
        {{ range sort .Site.Data.detail_of_patients "市内" "desc" }}
          <tr>
            {{/* 市内 */}}
            <td class="data-table__cell 市内">
                {{ .市内 }}
            </td>

            {{/* 検査確定日 */}}
            <td class="data-table__cell 検査確定日">
              <time datetime='{{ .検査確定日 }}'
                >{{ replaceRE "^\\d+-(\\d+-\\d+)$" "$1" .検査確定日 }}</time
              >
            </td>

            {{/* 発症日 */}}
            <td class="data-table__cell 発症日">
              <time datetime='{{ .発症日 }}'
                >{{ replaceRE "^\\d+-(\\d+-\\d+)$" "$1" .発症日 }}</time
              >
            </td>

            {{/* 年代 */}}
            <td class="data-table__cell 年代">
              {{ with (i18n (replace "patients_年代_key" "key" .年代 )) }}
                {{ . }}
              {{ else }}
                {{ .年代 }}
              {{ end }}
            </td>

            {{/* 性別 */}}
            <td class="data-table__cell">
              {{ with (i18n (replace "patients_性別_key" "key" .性別 )) }}
                {{ . }}
              {{ else }}
                {{ .性別 }}
              {{ end }}
            </td>

            {{/* 職業 */}}
            <td class="data-table__cell">
              {{ with (i18n (replace "patients_職業_key" "key" .職業 )) }}
                {{ . }}
              {{ else }}
                {{ .職業 }}
              {{ end }}
            </td>

            {{/* 推定感染経路 */}}
            <td class="data-table__cell">
              {{ with .推定感染経路 }}
                <ul>
                  {{ range . }}
                    <li>{{ . }}</li>
                  {{ end }}
                </ul>
              {{ end }}
            </td>

            {{/* 行動歴 */}}
            <td class="data-table__cell">
              {{ with .行動歴 }}
                <ul>
                  {{ range . }}
                    <li>{{ . }}</li>
                  {{ end }}
                </ul>
              {{ end }}
            </td>
          </tr>
        {{ end }}
      </tbody>
    </table>
  </div>

  {{/* Sort */}}
  <script>
    const options = {
      valueNames: ["市内", "検査確定日", "発症日", "年代"],
    };
    const userList = new List("table-detail-of-patients", options);
  </script>
</div>